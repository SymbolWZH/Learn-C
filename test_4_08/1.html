<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  //     var lengthOfLongestSubstring = function(s) {
  //         let str = s.split('');
  //         let stack = [];

  //         for(i of str){
  //             if(stack.indexOf(i) == -1){
  //                 stack.push(i)
  //             }
  //         }
  //         console.log(stack);
  //         return stack.length;
  // };
  // console.log(lengthOfLongestSubstring("aaaaaaaaaabbbbbbbbbbbbbcccccccccc"));

//   第一题：找出重复的连续字串
// 例：s="aaasfasfssccsaff"
// 输出：['aaa','ss','cc','ff']
var lengthOfLongestSubstring = (s) => {
    let arr = []
    let len = s.length;
    let i = 0;
    let rep =0;
    while(len>0){
      if (s[i] == s[i + 1]) {
        rep++; 
        i++; 
      }else{
        if (rep >= 1) {
              i + 1 == len ? arr.push(s) : arr.push(s.slice(i - rep, i + 1));
              rep = 0;
        }
        s = s.slice(i + 1, len)
        i = 0;
        len = s.length
      } 
    }
    return arr;
  }
  console.log(lengthOfLongestSubstring("aaasfasfssccsaff"));//['aaa', 'ss', 'cc', 'ff']
 //['aaa','ss','cc','ff']
// const list = [
//   { id: 1, pid: 0, name: '四川' },
//   { id: 2, pid: 1, name: '成都' },
//   { id: 3, pid: 1, name: '宜宾' },
//   { id: 4, pid: 1, name: '绵阳' },
//   { id: 5, pid: 1, name: '德阳' },
//   { id: 6, pid: 2, name: '高新区' },
//   { id: 7, pid: 2, name: '武侯区' },
//   { id: 8, pid: 3, name: '翠屏区' }
// ];
// //扁平数据结构转化为树形结构
// const arrayToTree = (arr, pid) => {
//   return arr.reduce((res, current) => {
//     if (current['pid'] === pid) {
//       current.children = arrayToTree(arr, current['id']);
//       return res.concat(current);
//     }
//     return res;
//   }, []);
// };
// console.log(arrayToTree(list, 0))
// let res = arrayToTree(list, 0);
// //树形结构转化为扁平数据结构
// const flaten = (res)=>{
//    return res.reduce((pre,cur)=>{
//         const {id,pid,name,children=[]} = cur;
//       return  pre.concat([ {id,pid,name}],flaten(children))
//     },[])
// }
// console.log("flaten",flaten(res));
</script>

</html>